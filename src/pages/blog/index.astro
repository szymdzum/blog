---
import PostCard from "@components/PostCard.astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import type { CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";

const posts = (await getCollection("blog")).sort(
  (a: CollectionEntry<"blog">, b: CollectionEntry<"blog">) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<BaseLayout
  title="Blog - The Null Hypothesis"
  description="Thoughts on software engineering, system design, and digital philosophy"
>
  <section class="blog-posts-container">
    <h1 class="page-title">Blog</h1>
    <div class="posts-grid auto-grid">
      {posts.map((post: CollectionEntry<"blog">, index: number) => (
        <PostCard post={post} index={index} />
      ))}
    </div>
  </section>
</BaseLayout>
